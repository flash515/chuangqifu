<!--pages/order/newcompany.wxml-->
<view>
  <swiper class="swiper" indicator-dots="{{indicatorDots}}" autoplay="{{autoplay}}" circular="{{circular}}"
    vertical="{{vertical}}" interval="{{interval}}" duration="{{duration}}" previous-margin="{{previousMargin}}px"
    next-margin="{{nextMargin}}px">
    <block wx:for="{{image}}" wx:for-index="index" wx:key="key">
      <swiper-item>
        <image src="{{item}}" class="swiper image" mode="scaleToFill" />
        <!-- <view class="swiper-item {{item.url}}"></view> -->
      </swiper-item>
    </block>
  </swiper>
</view>
<!-- 传入的产品信息 -->
<l-tabs>
  <l-tabpanel tab="产品信息" key="one" slot="one" bind:linchange="submitdisable">
    <l-card type="primary" plaintext="{{true}}">
      <l-input name="productid" label="产品编号：" type="text" label-layout="left" label-width="270"
        placeholder="{{productid}}" disabled="{{true}}" />
      <l-input name="productname" label="产品名称：" type="text" label-layout="left" label-width="270"
        placeholder="{{productname}}" disabled="{{true}}" />
      <l-input name="productname" label="办理地点：" type="text" label-layout="left" label-width="270"
        placeholder="{{issuedplace}}" disabled="{{true}}" />
      <view wx:if="{{avatarUrl=='' || nickName==''}}">
        <label class="text">办理费用：</label>
        <button class="userinfo-nickname" bindtap='getUserProfile'>微信登录</button>
      </view>
      <view wx:else>
        <l-input name="clientprice" label="办理费率：" type="text" label-layout="left" label-width="270"
          placeholder="{{clientprice}}" disabled="{{true}}" />
        <l-input name="totalfee" label="办理费用（元）：" placeholder="{{totalfee}}" type="number" label-layout="left"
          label-width="270" placeholder="{{totalfee}}" disabled="{{true}}" />
      </view>
    </l-card>
  </l-tabpanel>
  <!-- 需填写的资料 -->
  <l-tabpanel tab="投资人" key="two" slot="two" bind:linchange="submitdisable">
    <l-card type="primary" plaintext="{{true}}">
      <l-input name="investorname" label="投资人姓名：" type="text" label-layout="left" label-width="270"
        placeholder="{{investorname}}" clear="{{true}}" bind:lininput="bvInvestorName" />
      <l-input name="investorphone" placeholder="{{investorphone}}" label="投资人手机号：" type="text" label-layout="left"
        label-width="270" clear="{{true}}" bind:lininput="bvInvestorPhone" />
      <l-input label="投资人地址：" type="text" label-layout="left" label-width="270" placeholder="{{investoraddress}}"
        clear="{{true}}" bind:lininput="bvInvestorAddress" />
      <l-input name="investoremail" label="投资人邮箱：" placeholder="{{investoremail}}" type="text" label-layout="left"
        label-width="270" clear="{{true}}" bind:lininput="bvInvestorEmail" />
    </l-card>
  </l-tabpanel>
  <l-tabpanel tab="管理人" key="three" slot="three" bind:linchange="submitdisable">
    <l-card type="primary" plaintext="{{true}}">
      <l-input label="法定代表人姓名：" type="text" label-layout="left" label-width="270" placeholder="{{representativename}}"
        clear="{{true}}" bind:lininput="bvRepresentativeName" />
      <l-input placeholder="{{representativephone}}" label="法定代表人手机：" type="text" label-layout="left" label-width="270"
        clear="{{true}}" bind:lininput="bvRepresentativePhone" />
      <l-input label="法定代表人地址：" type="text" label-layout="left" label-width="270"
        placeholder="{{representativeaddress}}" clear="{{true}}" bind:lininput="bvRepresentativeAddress" />
      <l-input label="法定代表人邮箱：" placeholder="{{representativeemail}}" type="text" label-layout="left" label-width="270"
        clear="{{true}}" bind:lininput="bvRepresentativeEmail" />
    </l-card>
    <l-card type="primary" plaintext="{{true}}">
      <l-input label="监事姓名：" type="text" label-layout="left" label-width="270" placeholder="{{supervisorname}}"
        clear="{{true}}" bind:lininput="bvSupervisorName" />
      <l-input placeholder="{{supervisorphone}}" label="监事手机号：" type="text" label-layout="left" label-width="270"
        clear="{{true}}" bind:lininput="bvSupervisorPhone" />
      <l-input label="监事地址：" type="text" label-layout="left" label-width="270" placeholder="{{supervisoraddress}}"
        clear="{{true}}" bind:lininput="bvSupervisorAddress" />
      <l-input label="监事邮箱：" placeholder="{{supervisoremail}}" type="text" label-layout="left" label-width="270"
        clear="{{true}}" bind:lininput="bvSupervisorEmail" />
    </l-card>
    <l-card type="primary" plaintext="{{true}}">
      <l-input label="财务负责人姓名：" type="text" label-layout="left" label-width="270" placeholder="{{financename}}"
        clear="{{true}}" bind:lininput="bvFinanceName" />
      <l-input placeholder="{{financephone}}" label="财务负责人手机：" type="text" label-layout="left" label-width="270"
        clear="{{true}}" bind:lininput="bvFinancePhone" />
      <l-input label="财务负责人地址：" type="text" label-layout="left" label-width="270" placeholder="{{financeaddress}}"
        clear="{{true}}" bind:lininput="bvFinanceAddress" />
      <l-input label="财务负责人邮箱：" placeholder="{{financeemail}}" type="text" label-layout="left" label-width="270"
        clear="{{true}}" bind:lininput="bvFinanceEmail" />
    </l-card>
  </l-tabpanel>
  <l-tabpanel tab="注册信息" key="four" slot="four" bind:linchange="submitdisable">
    <l-card type="primary" plaintext="{{true}}">
      <l-input label="商号名称：" type="text" label-layout="left" label-width="270" placeholder="{{businessname}}"
        clear="{{true}}" bind:lininput="bvBusinessName" />
      <text class="text">备选字号:</text>
      <l-textarea auto-height="{{true}}" placeholder="{{alternatename}}" bind:lininput="bvAlternateName"
        maxlength='30' />
      <text class="text">经营范围:</text>
      <l-textarea placeholder="{{businessscope}}" auto-height="{{true}}" bind:lininput="bvBusinessScope"
        maxlength='100' />
      <l-input placeholder="{{investment}}" label="投资金额（元）：" type="text" label-layout="left" label-width="270"
        clear="{{true}}" bind:lininput="bvInvestment" />
    </l-card>
  </l-tabpanel>
  <!-- 图片附件 -->
  <l-tabpanel tab="附件资料" key="five" slot="five" bind:linchange="submitdisable">
    <l-card type="primary" plaintext="{{true}}">
      <view>
        <label class="text">请选取或拍摄需要上传的图片（委托书、业务合同、转账记录等）</label>
        <l-image-picker size="4" count="9" bind:linchange="onChangeImgTap" bind:linremove="onRemoveImage"
          urls="{{attachmentview}}" />
        <l-button plain="{{true}}" bind:lintap="onUploadImage">上传图片</l-button>
      </view>
    </l-card>
  </l-tabpanel>
  <l-tabpanel tab="收件地址" key="six" slot="six" bind:linchange="submitdisable">
    <l-card type="primary" plaintext="{{true}}">
      <l-input label="快递收件人：" type="text" placeholder="{{addressee}}" label-layout="left" label-width="270"
        clear="{{true}}" bind:lininput="bvAddressee" />
      <l-input label="快递收件地址：" type="text" placeholder="{{address}}" label-layout="left" label-width="270"
        clear="{{true}}" bind:lininput="bvAddress" />
      <l-input label="收件人手机号：" placeholder="{{addresseephone}}" type="text" label-layout="left" label-width="270"
        clear="{{true}}" bind:lininput="bvAddresseePhone" />
    </l-card>
  </l-tabpanel>
</l-tabs>
<l-card type="primary" plaintext="{{true}}">

  <!-- 以下管理员显示内容 -->
  <view wx:if="{{usertype == 'admin'}}">
    <l-input name="fee" label="净服务费（元）：" type="number" label-layout="left" label-width="270" placeholder="{{fee}}"
      disabled="{{true}}" />
    <l-input name="charge1" label="直接推荐奖励（元）：" type="number" label-layout="left" label-width="270"
      placeholder="{{charge1}}" disabled="{{true}}" />
    <l-input name="charge2" label="间接推荐奖励（元）" type="number" label-layout="left" label-width="270"
      placeholder="{{charge2}}" disabled="{{true}}" />
  </view>
</l-card>
<l-card type="primary" plaintext="{{true}}">
  <view wx:if="{{!submitted}}">
    <l-button type="default" bindtap="bvTempStorage">暂存</l-button>
    <text>\t\t</text>
    <l-button type="default" bindtap="addData" disabled="{{submitbtndisable}}">提交</l-button>
    <text>\t\t</text>
  </view>
  <view wx:else>
    <l-button type="default" data-totalfee="totalfee={{totalfee}}" bindtap="pay">支付费用</l-button>
  </view>
</l-card>